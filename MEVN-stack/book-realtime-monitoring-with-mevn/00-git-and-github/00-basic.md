# Git과 GitHub

> [실시간 모니터링 시스템을 만들며 정복하는 MEVN](http://www.yes24.com/Product/Goods/104208010) 도서를 학습하며 정리한 내용입니다.

---

## Git 개념 및 특징

### 개념

- 분산 버전 관리 시스템
  - 파일의 변경사항을 추적하고 관리할 수 있는 형상관리툴
  - 분산 버전이란 의미는 중앙 시스템에서 관리되는 게 아니라 각 개발자에 의해 버전을 관리할 수 있다는 의미이다. 이 점이 좋은 것은 서버에서 히스토리를 검색하는 절차없이 바로 로컬에서 찾을 수 있다는 것.(Pro git 에서는 오프라인 사용을 강조)

### 특징

- 책에서는 git에 대한 특징으로 다음과 같이 설명
  - 데이터 관리
  - 무결성
  - 체크섬(Checksum)
  - 상태관리
- 데이터 관리는 의미 그대로 데이터 관리를 말한다. 단, 깃에서는 데이터의 상태가 담긴 순간인 **스냅샷(snapshot)으로 데이터**를 관리한다. 파일이 수정되어서 수정된 파일을 새롭게 저장하는 것이 아니라 수정된 상태를 기억하고 있는 것. 파일에 대한 이력을 관리한다고 생각하면 된다.
- 무결성은 체크섬을 통해 실현. 깃에서는 데이터를 저장하기 전에 항상 체크섬을 구하고 그 체크섬으로 데이터를 관리.
  ![image](https://user-images.githubusercontent.com/104971437/179649503-cd02bffd-74bc-4311-810a-120019b58392.png)
  - 체크섬(checksum) : 중복 검사의 한 형태를 말한다.
  - 깃에서는 SHA-1 해쉬를 이용하여 체크섬을 생성
    -  SHA-1 는 암호화 해쉬 함수. 간단하게 입력 데이터을 16진수 40자 길이의 문자열로 변환하는 것이라고 이해하고 넘어가자...
    - 해쉬(hash)는 다양한 길이의 데이터를 고정된 길이로 가진 데이터로 매핑한 값을 의미.
    - 즉, 깃은 디렉터리나 파일 이름으로 데이터를 관리하지 않고 체크섬이라는 식별 가능한 해쉬를 가지고 관리한다는 것.
- 상태관리
  - 깃은 파일을 3가지 상태로 관리
    - `committed` : 데이터가 로컬 데이터베이스(.git directory)에 안전하게 저장된 상태를 의미
    - `modified` : 수정된 파일이 아직 로컬 데이터베이스(.git directory)에 커밋되지 않은 상태를 의미
    - `Staged` : 현재 수정한 파일을 곧 커밋할 것이라고 표시한 상태를 의미
  - 커밋(commit)
    - 커밋은 최신 변경사항을 저장소에 추가하는 하는 것을 의미.
- 깃이 하는 일
  ![깃 트리 구조](https://git-scm.com/book/en/v2/images/areas.png)
  - 워킹 트리에서 파일을 수정(워킹 트리는 프로젝트의 특정 버전이 체크아웃되어 있다)
  - Staging Area 에 파일을 올려놓는다. (스냅샷 생성을 위한 커밋 대기)
  - Staging Area 에 있는 파일들을 커밋해서 Git 디렉토리에 영구적인 스냅샷으로 저장

> 간단히 정리해보자면, 깃은 분산 버전 관리 시스템으로 서버에 접근하지 않고도 로컬에서 파일 버전 관리가 가능한 툴이며, 디렉터리나 파일의 이름으로 데이터를 저장하지 않고 체크섬으로 해쉬를 생성하여 관리한다. 또한 프로젝트 내에 수정, 생성, 삭제 등의 변경사항이 있을 때 이러한 내용을 스냅샷이라는 이력으로 관리하고 이를 위해 파일을 특정한 상태별로 구분한다. (modified, staged, committed)

---

## GitHub

- 깃 저장소에 대한 호스팅을 지원하는 웹 서비스
- 다른 사람이 깃으로 관리한 프로젝트를 확인하거나 같이 작업할 수 있는 플랫폼
- 서비스 사용자는 깃헙 저장소(레파지토리, repository)로 프로젝트를 관리할 수 있으며, 클론 등의 기능을 이용하여 깃헙에 존재하는 공개 저장소를 로컬로 가져올 수 있다.
- 코드 관리 말고도 협업이나 기타 작업을 위한 다양한 기능들을 제공 (대표적으로 문서화를 위한 마크다운 문서 자동 렌더링(REAME.md), 풀리퀘스트 등)

> 깃헙은 깃 저장소를 웹 서비스를 통해 호스팅 해주는 서비스 업체, 플랫폼이라 생각하면 된다. (웹 페이지, 웹 사이트를 호스팅 업체에 대행하듯이)

---

## Git 명령어

### 원격(Remote) 저장소 개념

- 협업이나 공유의 목적으로 깃을 사용할 때는 원격 저장소를 통해 관리한다. 원격 저장소는 네트워크나 인터넷 어딘가에 있는 저장소를 의미. (Pro git에서는 로컬 시스템에서도 remote가 존재할 수 있다고 설명)
- 원격 저장소는 여러개일 수 있다.
- 일반적으로 브랜치와 같이 관리한다.
- fetch, pull, push 등이 원격 저장소와 관련있는 명령어이다.(아래 명령어에서 따로 정리하기)
- git clone 시 원격저장소 이름은 보통 자동으로 `origin` 이 된다.

### 브랜치(Branch)와 병합(merge) 개념

- 브랜치 : 의미는 나뭇가지. 고유의 작업공간으로 분기시킬 수 있는 기능으로 독립적인 작업공간을 생성한다. (나무의 가지를 연상하기)
- 브랜치를 통해 작업한 내용은 다른 브랜치에 합칠 수 있는데, 이러한 작업을 병합(merge, 머지)이라고 한다.
- checkout, branch, merge 등이 브랜치와 관련있는 명령어

> 브랜치 작업 시 현재 어떤 브랜치에서 작업중인지 확인하는 것이 중요한 데 해당 브랜치에서 분기를 생성하기 때문이다. (HEAD 포인터 확인하기) 또한 병합 시에도 마찬가지. 병합 시에는 충돌(confict)이 발생할 수 있으며, 이는 개발자가 수동으로 조정해야 한다. (충돌은 병합 시 변경사항이 서로 다른 부분이 있을 때 발생한다.)

### 명령어 정리

- `git init` : 현재 경로의 디렉터리를 깃이 관리하도록 설정한다.
- `git log` : 커밋 기록 확인 가능
  - `--pretty=oneline` 옵션을 사용하면 해쉬와 포인터 및 커밋 제목만 한 줄로 확인 가능
- `git status` : 현재 깃이 관리하는 디렉터리의 상태를 확인
- `git add` : 변경사항이 있는 파일들을 Staging Area에 올릴 때 사용
  - add 뒤에 `.`을 사용하면 현재 경로 하위에 있는 모든 변경 사항을 추가
  - add 뒤에 특정 경로나 파일을 입력하여 개별적으로도 올릴 수 있다.
- `git commit` : stage에 올라와 있는 내용들을 git 저장소에 커밋한다.
- checkout 관련
  - `git checkout -b 브랜치명` : 기입한 브랜치명으로 브랜치를 만든 후 해당 브랜치로 이동
  - `git checkout --파일명` : 특정 파일에 대하여 이전 커밋 상태로 되돌리기
- branch 관련
  - `git branch` : 현재 브랜치 목록을 확인
  - `git branch -d 브랜치명` : 해당 브랜치를 삭제. master에 merge 되지 않은 경우 삭제되지 않는다. 강제 삭제의 경우 `-D` 옵션 사용
- 원격 저장소 관련
  - `git push origin main` : 원격저장소(origin)에 있는 main 브랜치에 푸시한다. 푸시는 로컬 저장소의 커밋 내용을 원격 저장소에 반영한다는 것을 의미.
  - `git pull origin develop` : 원격저장소(origin)에 있는 develop 브랜치가 가진 내용을 가지고 오는 것을 의미(당겨오다). git fetch와 git merge 가 합쳐진 것.
- 추가 내용
  - 깃 [브랜칭과 관련된 웹 튜토리얼 서비스](https://learngitbranching.js.org/?locale=ko)

---

## 커밋과 이슈 생성 관련

### 커밋 규칙

- 일반적으로 실무에선 커밋 작성 규칙을 정해놓고 작성
- 찾아보니 이러한 내용과 관련된 컨벤션 스타일도 있다. - [conventionalcommits.org](https://www.conventionalcommits.org/en/v1.0.0/)
- 예)
  - `타입:제목` 형식으로 작성
    - 타입의 경우 코드 작성 관련 유형(기능 로직, 버그 해결, 리팩토링, 테스트, 문서 등등)

> 커밋 메시지를 잘 작성해야 되는 이유
>
> "해당 코드(커밋)에 대해 프로젝트 내 연관된 다른 사람 또는 미래의 나 자신과의 커뮤니케이션에 있어 효율적이면서 정확하게 이야기를 나눌 수 있다."  - [참고 링크](https://www.freecodecamp.org/news/writing-good-commit-messages-a-practical-guide/)

### 이슈 규칙

```
Issues are used to track todos, bugs, feature requests, and more.

As issues are created, they’ll appear here in a searchable and filterable list.

To get started, you should create an issue.
```

- 이슈(issue)
  - 깃허브에서 제공하는 기능
  - 프로젝트 개발 진행 시 발생하는 문제에 관하여 공개적으로 발행할 수 있는 기능(할 일 메모)
- 커밋 시 특정 포맷으로 커밋을 하게 되면 현재 열려있는 이슈에 반영된다.

> 이슈와 관련된 내용은 좀 더 찾아보고 여기 MEVN 디렉터리 말고 따로 git & github 디렉터리를 만들어서 문서로 정리해야 겠다.

---

## 정리

- 깃과 깃헙을 이용하여 프로젝트를 진행할 수 있다.
  - 깃은 분산 버전 관리 시스템. 상태 관리를 이용하여 버전을 관리한다.
  - 깃헙에선 깃 관련 기능 말고도 프로젝트 진행과 관련된 다양한 기능을 제공하며 협업 시 이러한 것들을 활용할 수 있다.
- 브랜치와 병합 과정을 통해 프로젝트를 단계별로 완성해 나간다는 기본적인 개념이 중요.

---

**참고 자료**

- [위키백과 - 깃(소프트웨어)](https://ko.wikipedia.org/wiki/%EA%B9%83_(%EC%86%8C%ED%94%84%ED%8A%B8%EC%9B%A8%EC%96%B4))
- [위키백과 - 스냅샷](https://ko.wikipedia.org/wiki/%EC%8A%A4%EB%83%85%EC%83%B7_(%EA%B8%B0%EC%96%B5_%EC%9E%A5%EC%B9%98))
- [위키백과 - 체크섬](https://ko.wikipedia.org/wiki/%EC%B2%B4%ED%81%AC%EC%84%AC)
- [위키백과 - 깃허브](https://ko.wikipedia.org/wiki/%EA%B9%83%ED%97%88%EB%B8%8C)
- [Git / GitHub 안내서](https://subicura.com/git/guide/#git%E1%84%8B%E1%85%B4-%E1%84%90%E1%85%B3%E1%86%A8%E1%84%8C%E1%85%B5%E1%86%BC)
- [git-scm.com/book : Pro git](https://git-scm.com/book/ko/v2)